-- Draft templates SQL inserts (English)
-- Table: mixpla__drafts
-- Columns: id, author, reg_date, last_mod_user, last_mod_date, draft_type, title, content, language_code, archived

-- INTRO_DRAFT
INSERT INTO mixpla__drafts (
    id, author, reg_date, last_mod_user, last_mod_date,
    draft_type, title, content, language_code, archived
) VALUES (
    gen_random_uuid(),
    1,
    NOW(),
    1,
    NOW(),
    'INTRO_DRAFT',
    'Radio Intro Draft Template - English',
    $kotlin$
val sb = StringBuilder()
if (combinedIntro as Boolean) {
  sb.append("DJ Persona: ").append(aiDjName).append('\n')
    .append("Station Brand: ").append(brand).append('\n')
} else {
  if (showDj as Boolean) sb.append("DJ Persona: ").append(aiDjName).append('\n')
  if (showBrand as Boolean) sb.append("Station Brand: ").append(brand).append('\n')
}
sb.append("Now playing: \"").append(title).append("\" by ").append(artist).append('\n')
val descr = songDescription as String?
if (!descr.isNullOrBlank()) sb.append("Description: ").append(descr).append('\n')
val gs = (genres as List<*>?)?.filterNotNull()?.map { it.toString() } ?: emptyList<String>()
if (gs.isNotEmpty()) sb.append("Genres: ").append(gs.joinToString(", ")).append('\n')
val h = history as Map<*, *>?
if (h != null) {
  val t = h["title"]; val a = h["artist"]; val s = h["introSpeech"];
  if (t != null && a != null) sb.append("Previously played: \"").append(t).append("\" by ").append(a).append(". ")
  if (s != null) sb.append("Last intro: ").append(s).append('\n')
}
if (showAtmosphere as Boolean) sb.append("Atmosphere hint: ").append(context).append('\n')
sb.toString()
$kotlin$,
    'en',
    0
);

-- MESSAGE_DRAFT
INSERT INTO mixpla__drafts (
    id, author, reg_date, last_mod_user, last_mod_date,
    draft_type, title, content, language_code, archived
) VALUES (
    gen_random_uuid(),
    1,
    NOW(),
    1,
    NOW(),
    'MESSAGE_DRAFT',
    'Message Draft Template - English',
    $kotlin$
val sb = StringBuilder()
if (combinedIntro as Boolean) {
  sb.append("DJ Persona: ").append(aiDjName).append('\n')
    .append("Station Brand: ").append(brand).append('\n')
} else {
  if (showDj as Boolean) sb.append("DJ Persona: ").append(aiDjName).append('\n')
  if (showBrand as Boolean) sb.append("Station Brand: ").append(brand).append('\n')
}
sb.append("Now playing: \"").append(title).append("\" by ").append(artist).append('\n')
if (showAtmosphere as Boolean) sb.append("Atmosphere hint: ").append(context).append('\n')
sb.toString()
$kotlin$,
    'en',
    0
);

-- NEWS_INTRO_DRAFT
INSERT INTO mixpla__drafts (
    id, author, reg_date, last_mod_user, last_mod_date,
    draft_type, title, content, language_code, archived
) VALUES (
    gen_random_uuid(),
    1,
    NOW(),
    1,
    NOW(),
    'NEWS_INTRO_DRAFT',
    'News Intro Draft Template - English',
    $kotlin$
val sb = StringBuilder()
if (combinedIntro as Boolean) {
  sb.append("DJ Persona: ").append(aiDjName).append('\n')
    .append("Station Brand: ").append(brand).append('\n')
} else {
  if (showDj as Boolean) sb.append("DJ Persona: ").append(aiDjName).append('\n')
  if (showBrand as Boolean) sb.append("Station Brand: ").append(brand).append('\n')
}
sb.append("Now playing: \"").append(title).append("\" by ").append(artist).append('\n')
if (showAtmosphere as Boolean) sb.append("Atmosphere hint: ").append(context).append('\n')
sb.toString()
$kotlin$,
    'en',
    0
);
